<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JavaScript | kencho51</title><meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=http://localhost:1313/tags/javascript/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://localhost:1313/tags/javascript/index.xml><link rel=alternate hreflang=en href=http://localhost:1313/tags/javascript/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/tags/javascript/"><meta property="og:site_name" content="kencho51"><meta property="og:title" content="JavaScript"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="JavaScript"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="kencho51 (Alt + H)">kencho51</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/page/about/ title=About><span>About</span></a></li><li><a href=http://localhost:1313/post title=Tech><span>Tech</span></a></li><li><a href=http://localhost:1313/projects/ title=Projects><span>Projects</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/tags/>Tags</a></div><h1>JavaScript</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to Make Dropdown Button</h2></header><div class=entry-content><p>Task To implement a dropdown box with different citation source, description at [Issue #83](PR #521 PR #521 Steps Create dropdown in bootstrap way &lt;div id="dataset-block-wrapper"> &lt;div id="dropdown-div"> &lt;div class="dropdown-box"> &lt;button id="CiteDataset" class="drop-citation-btn dropdown-toggle" type="button" data-toggle="dropdown">Cite Dataset&lt;span class="caret">&lt;/span>&lt;/button> &lt;?php $text = file_get_contents('https://data.datacite.org/text/x-bibliography/10.5524/' . $model->identifier); $clean_text = strip_tags(preg_replace("/&amp;#?[a-z0-9]+;/i", "", $text)); ?> &lt;script> function showText() { var textWindow = window.open(); textWindow.document.write(`&lt;?php echo $clean_text; ?>`); } &lt;/script> &lt;ul class="dropdown-menu" aria-labelledby="CiteDataset"> &lt;li>&lt;a id="Text" onclick="showText()" target="_blank">Text&lt;/a>&lt;/li> &lt;li>&lt;a id="citeRis" href='https://data.datacite.org/application/x-research-info-systems/10.5524/&lt;?php echo $model->identifier;?>' target="_self">RIS&lt;/a>&lt;/li> &lt;li>&lt;a id="citeBibTeX" href='https://data.datacite.org/application/x-bibtex/10.5524/&lt;?php echo $model->identifier;?>' target="_self">BibTeX&lt;/a>&lt;/li> &lt;/ul> &lt;/div> &lt;/div> &lt;/div> Create dropdown in javascript way &lt;div id="dropdown-div"> &lt;div> &lt;a id="CiteDataset" onclick="showCitation()" class="drop-citation-btn" >Cite Dataset&lt;span class="caret">&lt;/span>&lt;/a> &lt;div id="citationDropdown" class="citation-content"> &lt;?php $text = file_get_contents('https://data.datacite.org/text/x-bibliography/10.5524/' . $model->identifier); $clean_text = strip_tags(preg_replace("/&amp;#?[a-z0-9]+;/i", "", $text)); textWindow.document.write(`&lt;?php echo $clean_text; ?>`); &lt;/script> &lt;ul> &lt;li>&lt;a id="Text" onclick="showText()" target="_blank">Text&lt;/a>&lt;/li> &lt;li>&lt;a id="citeRis" href='https://data.datacite.org/application/x-research-info-systems/10.5524/&lt;?php echo $model->identifier;?>' target="_self">RIS&lt;/a>&lt;/li> &lt;li>&lt;a id="citeBibTeX" href='https://data.datacite.org/application/x-bibtex/10.5524/&lt;?php echo $model->identifier;?>' target="_self">BibTeX&lt;/a>&lt;/li> &lt;/ul> &lt;/div> &lt;/div> &lt;/div> &lt;script> /* When the user clicks on the button, toggle between hiding and showing the dropdown content */ function showCitation() { document.getElementById("citationDropdown").classList.toggle("show"); } // Close the dropdown if the user clicks outside of it window.onclick = function(event) { if (!event.target.matches('.drop-citation-btn')) { var dropdowns = document.getElementsByClassName("citation-content"); var i; for (i = 0; i &lt; dropdowns.length; i++) { var openDropdown = dropdowns[i]; if (openDropdown.classList.contains('show')) { openDropdown.classList.remove('show'); } } } } //Write the clean text to a new window function showText() { var text = `&lt;?php echo $clean_text; ?>` console.log(text); var textWindow = window.open(); textWindow.document.write(text); } &lt;/script> Thoughts Since html comes with bootstrap with default dropdown features, it is better use it, as it is cleaner and less code. But good to know how to implement dropdown in javascript Pass the acceptance test /** * @Then I go to new tab and should see :arg1 */ public function iGoToNewTabAndShouldSee($arg1) { $session = $this->minkContext->getSession(); $numberOfTab = $session->getWindowNames(); if (sizeof($numberOfTab) &lt; 2) { print ("Expected to see at least 2 windows opened."); exit; } $session->switchToWindow($numberOfTab[1]); PHPUnit_Framework_Assert::assertTrue($session->getPage()->hasContent($arg1)); } /** * @When I click :arg1 * To trigger onclick event */ public function iClick($arg1) { $element = $this->minkContext->getSession()->getPage()->find('css', "a[id='$arg1']" ); $element->click(); } @ok @javascript @citation-box Scenario: To see the citation box and and the citation source Given I am not logged in to Gigadb web site And I am on "/dataset/101001" When I press "Cite Dataset" Then I should see "Text" And I should see "RIS" And I should see "BibTeX" @ok @javascript @citation-box Scenario: To show the citation text from CrossCite after clicking the Formatted Text button in the citation box Given I am not logged in to Gigadb web site And I am on "/dataset/101001" And I press "Cite Dataset" When I click "Text" Then I go to new tab and should see "Huang, Y., Li, Y., Burt, D. W., Chen, H., Zhang, Y., Qian, W., Kim, H., Gan, S., Zhao, Y., Li, J., Yi, K., Feng, H., Zhu, P., Li, B., Liu, Q., Fairley, S., Magor, K. E., Du, Z., Hu, X., … Li, N. (2013). Genome sequence of the duck (Anas platyrhynchos) [Data set]. GigaScience Database. https://doi.org/10.5524/101001" @ok @javascript @citation-box Scenario: To get RIS file after clicking the RIS in the citation box Given I am not logged in to Gigadb web site And I am on "/dataset/101001" And I press "Cite Dataset" When I click on the "RIS" button Then the response should contain "101001" # 200: the request completed successfully And the response should contain "200" @ok @javascript @citation-box Scenario: To get BibTeX file after clicking the BibTeX in the citation box Given I am not logged in to Gigadb web site And I am on "/dataset/101001" And I press "Cite Dataset" When I click on the "BibTeX" button Then the response should contain "101001" # 200: the request completed successfully And the response should contain "200" Reference What is Tabnabbing? How to solve it? here ...</p></div><footer class=entry-footer><span title='2021-05-21 12:20:14 +0800 HKT'>May 21, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;626 words&nbsp;·&nbsp;Ken Cho</footer><a class=entry-link aria-label="post link to How to Make Dropdown Button" href=http://localhost:1313/how-to-make-dropdown-button/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Learn, todo and done 19-23/10/20</h2></header><div class=entry-content><p>Learn Yii2 JavaScript, FCC CSS, FCC Clean Code, YouTube Todo Todo - Project To start a new project Publon DOI, user story
1.1 Dataflow diagram 1.2 Read API documents 1.3 Access all the Publon, DataCite and CorssRef API Done Follow up PR Add-delete-button-#457
1.1 Factor out common code into static method in CurationLog.php
1.2 Finished the unit test of curationLogEntryFactory function
1.3 Finished datasetLogEntryFactory and createDatasetLogEntry function and passed the unit tests Follow up PR Add Hypothes.is metadata schema #516 for Issue #85 2.1 Created scenario to capture DOI Reference ...</p></div><footer class=entry-footer><span title='2020-10-19 10:11:49 +0800 HKT'>October 19, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;90 words&nbsp;·&nbsp;Ken Cho</footer><a class=entry-link aria-label="post link to Learn, todo and done 19-23/10/20" href=http://localhost:1313/jobs/19-10-20/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Learn, todo and done 12-16/10/20</h2></header><div class=entry-content><p>Learn Yii2 JavaScript, FCC CSS, FCC Clean Code, YouTube Todo - Github issue Follow up PR Add-delete-button-#457
Study Add link preview #61, Link previews #428
2.1 Start with Add the metadata schema on dataset page to allow Hypothesis to parse citation DOI #85
2.2 Then Add the metadata schema on dataset page to allow other web sites to make link previews of our web site #513
2.3 Finally Link previews #428
Follow up Update porject links via admin pages #375
...</p></div><footer class=entry-footer><span title='2020-10-12 10:02:06 +0800 HKT'>October 12, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;135 words&nbsp;·&nbsp;Ken Cho</footer><a class=entry-link aria-label="post link to Learn, todo and done 12-16/10/20" href=http://localhost:1313/jobs/12-10-20/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Learn, todo and done 5-9/10/20</h2></header><div class=entry-content><p>Learn Yii2 JavaScript, FCC CSS, FCC Clean Code, YouTube Todo To start a new project Publon DOI, user story Done Merged and closed Change wip to ok #511 Follow up PR Add-delete-button-#457
2.1 Update feature file
2.2 Create EntryLog.php component class to log createNewEntry event
2.3 Try to create component services for curation log and dataset log which are not needed
2.4 To add static function in models/CurationLog.php and unit test the static function Create behat test for PR Remove-publisher-option-#507 Study Add link preview #61 Study Update porject links via admin pages #375 - Made different scenario for this feature in gist - Looked into check_duplicate Reference How to approach professional web design, referred figure Popular web layout frameworks:
2.1 Bootstrap 4.5
2.2 Foundation 6 CSS technologies
3.1 LESS
3.2 SASS/SCSS
3.3 SMACSS CSS cheat sheet ...</p></div><footer class=entry-footer><span title='2020-10-05 11:25:29 +0800 HKT'>October 5, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;136 words&nbsp;·&nbsp;Ken Cho</footer><a class=entry-link aria-label="post link to Learn, todo and done 5-9/10/20" href=http://localhost:1313/jobs/5-10-20/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Learn, todo and done 28/9-2/10/20</h2></header><div class=entry-content><p>Learn Yii2 JavaScript, FCC CSS, FCC Clean Code, YouTube Todo To start a new project, user story Done PR Remove publisher option in admin page #507 Comment on Update porject links via admin pages #375 Made different scenario for this feature in gist Looked into check_duplicate Studied Add link preview #61 Reference Yii2 Database migration</p></div><footer class=entry-footer><span title='2020-09-28 11:21:36 +0800 HKT'>September 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;55 words&nbsp;·&nbsp;Ken Cho</footer><a class=entry-link aria-label="post link to Learn, todo and done 28/9-2/10/20" href=http://localhost:1313/jobs/28-9-20/></a></article><footer class=page-footer><nav class=pagination><a class=next href=http://localhost:1313/tags/javascript/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>kencho51</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>