<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Yii 2.0 - Getting Started | kencho51</title>
<meta name="keywords" content="Yii, php, composoer">
<meta name="description" content="Yii 2.0 learning progress">
<meta name="author" content="Ken Cho">
<link rel="canonical" href="http://localhost:1313/yiiprogress/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/yiiprogress/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="kencho51 (Alt + H)">kencho51</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/page/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/post" title="Tech">
                    <span>Tech</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Yii 2.0 - Getting Started
    </h1>
    <div class="post-description">
      Yii 2.0 learning progress
    </div>
    <div class="post-meta"><span title='2020-05-26 11:05:40 +0800 HKT'>May 26, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Ken Cho

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#install-composer-via-composer-on-mac-os-x" aria-label="Install Composer via Composer on Mac OS X">Install Composer via Composer on Mac OS X</a></li>
                <li>
                    <a href="#install-yii" aria-label="Install Yii">Install Yii</a></li>
                <li>
                    <a href="#installing-assets" aria-label="Installing Assets">Installing Assets</a></li>
                <li>
                    <a href="#verify-the-installation" aria-label="Verify the Installation">Verify the Installation</a></li>
                <li>
                    <a href="#check-if-the-minimum-requirements-are-met-by-running" aria-label="CHeck if the minimum requirements are met by running">CHeck if the minimum requirements are met by running</a></li>
                <li>
                    <a href="#apache-configuration" aria-label="Apache Configuration">Apache Configuration</a></li>
                <li>
                    <a href="#yii-static-structure-of-an-application" aria-label="Yii static structure of an application">Yii static structure of an application</a></li>
                <li>
                    <a href="#yii-request-lifecycle" aria-label="Yii Request Lifecycle">Yii Request Lifecycle</a></li>
                <li>
                    <a href="#working-with-forms" aria-label="Working with forms">Working with forms</a></li>
                <li>
                    <a href="#working-with-databases" aria-label="Working with Databases">Working with Databases</a></li>
                <li>
                    <a href="#reference" aria-label="Reference">Reference</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="install-composer-via-composer-on-mac-os-x">Install Composer via Composer on Mac OS X<a hidden class="anchor" aria-hidden="true" href="#install-composer-via-composer-on-mac-os-x">#</a></h3>
<p><code>curl -sS https://getcomposer.org/installer | php</code>
<code>sudo mv composer.phar /usr/local/bin/composer</code></p>
<h3 id="install-yii">Install Yii<a hidden class="anchor" aria-hidden="true" href="#install-yii">#</a></h3>
<p><code>composer create-project --prefer-dist yiisoft/yii2-app-basic basic</code></p>
<h3 id="installing-assets">Installing Assets<a hidden class="anchor" aria-hidden="true" href="#installing-assets">#</a></h3>
<p><code>Add the following lines to /basic/composer.json</code></p>
<pre tabindex="0"><code>&#34;replace&#34;: {
    &#34;bower-asset/jquery&#34;: &#34;&gt;=1.11.0&#34;,
    &#34;bower-asset/inputmask&#34;: &#34;&gt;=3.2.0&#34;,
    &#34;bower-asset/punycode&#34;: &#34;&gt;=1.3.0&#34;,
    &#34;bower-asset/yii2-pjax&#34;: &#34;&gt;=2.0.0&#34;
},
</code></pre><h3 id="verify-the-installation">Verify the Installation<a hidden class="anchor" aria-hidden="true" href="#verify-the-installation">#</a></h3>
<p>Go into the basic/<br>
<code>php yii serve</code><br>
User browser to access:<br>
<code>http://localhost:8080/</code></p>
<h3 id="check-if-the-minimum-requirements-are-met-by-running">CHeck if the minimum requirements are met by running<a hidden class="anchor" aria-hidden="true" href="#check-if-the-minimum-requirements-are-met-by-running">#</a></h3>
<p><code>cd basic</code><br>
<code>php requirements.php</code></p>
<h3 id="apache-configuration">Apache Configuration<a hidden class="anchor" aria-hidden="true" href="#apache-configuration">#</a></h3>
<p>Update <code>/etc/apache2/httpd.conf</code> accordingly</p>
<pre tabindex="0"><code># Set document root to be &#34;basic/web&#34;
DocumentRoot &#34;path/to/basic/web&#34;

&lt;Directory &#34;path/to/basic/web&#34;&gt;
    # use mod_rewrite for pretty URL support
    RewriteEngine on
    
    # if $showScriptName is false in UrlManager, do not allow accessing URLs with script name
    RewriteRule ^index.php/ - [L,R=404]
    
    # If a directory or a file exists, use the request directly
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    
    # Otherwise forward the request to index.php
    RewriteRule . index.php

    # ...other settings...
&lt;/Directory&gt;
</code></pre><h3 id="yii-static-structure-of-an-application">Yii static structure of an application<a hidden class="anchor" aria-hidden="true" href="#yii-static-structure-of-an-application">#</a></h3>
<p><img alt="Application Structure" loading="lazy" src="/image/application-structure.png"></p>
<h3 id="yii-request-lifecycle">Yii Request Lifecycle<a hidden class="anchor" aria-hidden="true" href="#yii-request-lifecycle">#</a></h3>
<p><img alt="Request Lifecycle" loading="lazy" src="/image/request-lifecycle.png"></p>
<pre tabindex="0"><code>1. A user makes a request to the entry script web/index.php.
2. The entry script loads the application configuration and creates an application instance to handle the request.
3. The application resolves the requested route with the help of the request application component.
4. The application creates a controller instance to handle the request.
5. The controller creates an action instance and performs the filters for the action.
6. If any filter fails, the action is cancelled.
7. If all filters pass, the action is executed.
8. The action loads some data models, possibly from a database.
9. The action renders a view, providing it with the data models.
10. The rendered result is returned to the response application component.
11. The response component sends the rendered result to the user&#39;s browser.
</code></pre><h3 id="working-with-forms">Working with forms<a hidden class="anchor" aria-hidden="true" href="#working-with-forms">#</a></h3>
<p>Add the following to /basic/controllers/SiteController.php<br>
<code>use app\models\EntryForm;</code></p>
<h3 id="working-with-databases">Working with Databases<a hidden class="anchor" aria-hidden="true" href="#working-with-databases">#</a></h3>
<p>Mac has pre-installed <a href="https://www.sitepoint.com/getting-started-sqlite3-basic-commands/">sqlite3</a></p>
<ol>
<li>Create a yii2basic database with table <code>country</code></li>
</ol>
<pre tabindex="0"><code>CREATE TABLE `country` (
  `code` CHAR(2) NOT NULL PRIMARY KEY,
  `name` CHAR(52) NOT NULL,
  `population` INT(11) NOT NULL DEFAULT &#39;0&#39;);

INSERT INTO `country` VALUES (&#39;AU&#39;,&#39;Australia&#39;,24016400);
INSERT INTO `country` VALUES (&#39;BR&#39;,&#39;Brazil&#39;,205722000);
INSERT INTO `country` VALUES (&#39;CA&#39;,&#39;Canada&#39;,35985751);
INSERT INTO `country` VALUES (&#39;CN&#39;,&#39;China&#39;,1375210000);
INSERT INTO `country` VALUES (&#39;DE&#39;,&#39;Germany&#39;,81459000);
INSERT INTO `country` VALUES (&#39;FR&#39;,&#39;France&#39;,64513242);
INSERT INTO `country` VALUES (&#39;GB&#39;,&#39;United Kingdom&#39;,65097000);
INSERT INTO `country` VALUES (&#39;IN&#39;,&#39;India&#39;,1285400000);
INSERT INTO `country` VALUES (&#39;RU&#39;,&#39;Russia&#39;,146519759);
INSERT INTO `country` VALUES (&#39;US&#39;,&#39;United States&#39;,322976000);
</code></pre><ol start="2">
<li>
<p>DB connection
Update path in <code>config/db.php</code><br>
<code>'dsn' =&gt; 'sqlite:/path/to/sqlite/db/file'</code></p>
</li>
<li>
<p>Create CRUD with Gii
To enter Gii interface<br>
<code>http://localhost:8080/index.php?r=gii</code></p>
</li>
</ol>
<h3 id="reference">Reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h3>
<ol>
<li><a href="https://www.yiiframework.com/doc/guide/2.0/en/start-prerequisites">Yii Getting Started</a></li>
<li><a href="https://www.tutorialspoint.com/yii/yii_database_access.htm">Database Access</a></li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/yii/">Yii</a></li>
      <li><a href="http://localhost:1313/tags/php/">Php</a></li>
      <li><a href="http://localhost:1313/tags/composoer/">Composoer</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/yii1.1/">
    <span class="title">« Prev</span>
    <br>
    <span>Yii 1.1 Quick Start</span>
  </a>
  <a class="next" href="http://localhost:1313/oop/">
    <span class="title">Next »</span>
    <br>
    <span>OOP</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Yii 2.0 - Getting Started on x"
            href="https://x.com/intent/tweet/?text=Yii%202.0%20-%20Getting%20Started&amp;url=http%3a%2f%2flocalhost%3a1313%2fyiiprogress%2f&amp;hashtags=Yii%2cphp%2ccomposoer">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Yii 2.0 - Getting Started on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fyiiprogress%2f&amp;title=Yii%202.0%20-%20Getting%20Started&amp;summary=Yii%202.0%20-%20Getting%20Started&amp;source=http%3a%2f%2flocalhost%3a1313%2fyiiprogress%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Yii 2.0 - Getting Started on telegram"
            href="https://telegram.me/share/url?text=Yii%202.0%20-%20Getting%20Started&amp;url=http%3a%2f%2flocalhost%3a1313%2fyiiprogress%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>kencho51</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
