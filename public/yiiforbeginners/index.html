<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Yii1.1 for beginners | kencho51</title>
<meta name="keywords" content="yii, yii1.1, php">
<meta name="description" content="Yii framework Wiki">
<meta name="author" content="Ken Cho">
<link rel="canonical" href="https://gigathing.pages.dev/yiiforbeginners/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://gigathing.pages.dev/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://gigathing.pages.dev/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://gigathing.pages.dev/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://gigathing.pages.dev/apple-touch-icon.png">
<link rel="mask-icon" href="https://gigathing.pages.dev/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://gigathing.pages.dev/yiiforbeginners/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://gigathing.pages.dev/yiiforbeginners/">
  <meta property="og:site_name" content="kencho51">
  <meta property="og:title" content="Yii1.1 for beginners">
  <meta property="og:description" content="Yii framework Wiki">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2020-06-04T15:05:46+08:00">
    <meta property="article:modified_time" content="2020-06-04T15:05:46+08:00">
    <meta property="article:tag" content="Yii">
    <meta property="article:tag" content="Yii1.1">
    <meta property="article:tag" content="Php">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yii1.1 for beginners">
<meta name="twitter:description" content="Yii framework Wiki">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://gigathing.pages.dev/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Yii1.1 for beginners",
      "item": "https://gigathing.pages.dev/yiiforbeginners/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Yii1.1 for beginners",
  "name": "Yii1.1 for beginners",
  "description": "Yii framework Wiki",
  "keywords": [
    "yii", "yii1.1", "php"
  ],
  "articleBody": "What is Yii Model-View-Controller architecture? MVC schema\nModel defines relations among data in DB and rules that must be followed when saving data to DB. It also gives us tools to read/save data from/to DB.\nView shows data to user. It doesn’t write to DB or count difficult things. It just receives data and shows them using HTML, CSS, JS, etc.\nController processes and changes the data, handles user’s actions, decides, counts, thinks and calls models and views. It simply acts.\nController Controller is initiated (and it’s code is run) whenever you enter any address in browser. In its code you can read data from POST, GET or SESSION variables, work with DB etc. Here shows you how to access controller:\nwww.myweb.com/index.php?r=myController\nParameter r says that you want to use Controller named myController. Controller can have one or more sub-controllers. Each does something else. Each table in DB has its own model. This model has the same (or similar) name like the table. Each model has 2 important functions. Find data and Save data.\nModel Model is very simple thing in Yii. You don’t have to write a single line of its code, it can be created automatically using Gii.\nView It just receives data from Controller and shows them. This is the only place where we use HTML, CSS, JavaScript etc. What is framework? Framework is a set of functions that can ease your work. Functions are usually grouped into Classes. In Yii framework there is available class named CHtml. It provides functions for creating HTML code. (Tables, lists, forms…). echo CHtml::beginForm() will creates this html code: What is Gii? Gii is webpage that comes with Yii framework. In protected/config/main.php you have to uncomment it and enter password for Gii. Than go to you localhost website and run controller gii like this: localhost/myproject/index.php?r=gii\nHow to define relations in models manually? When you created models for all tables, it may be necessary to define relations. his can be done using function relations() in model file. The relation is an SQL Join. When you make relation from list of employees to their jobs and name this relation ‘job’, you can then write this in Controller to get employee’s job:\n$Employee = Employees::model()-\u003efindByPk($employeeId); $myJobName = $Employee-\u003ejob-\u003ejobName; /* Where: Employees = model of table created using yiic shell. jobName = column in Jobs table. job = relation name. $Employee = 1 returned record from table Employees - only one because we were searching by PK. If we searched using findAll() it would return list of records and it would be necessary to walk through them using foreach. In your model should be cca this function: */ public function relations() { return array( 'job' =\u003e array(self::BELONGS_TO, 'JobsTableName', 'id_job'), ); } How to create the first controller? Need one file in folder: protected/controllers. The file must be named like this ‘NameController.php`. Whats inside the controller.php?\n\u003c?php class MyfirstController extends Controller { public function actionIndex() { // here is your code for this action } public function actionMyaction() { // here is your code for this action $this-\u003erender(‘myview’); } public function getEmployeeName() { } } ?\u003e Reference Yii for beginners 1 Yii for beginners 2 ",
  "wordCount" : "532",
  "inLanguage": "en",
  "datePublished": "2020-06-04T15:05:46+08:00",
  "dateModified": "2020-06-04T15:05:46+08:00",
  "author":{
    "@type": "Person",
    "name": "Ken Cho"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://gigathing.pages.dev/yiiforbeginners/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "kencho51",
    "logo": {
      "@type": "ImageObject",
      "url": "https://gigathing.pages.dev/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://gigathing.pages.dev/" accesskey="h" title="kencho51 (Alt + H)">kencho51</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://gigathing.pages.dev/page/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://gigathing.pages.dev/post" title="Tech">
                    <span>Tech</span>
                </a>
            </li>
            <li>
                <a href="https://gigathing.pages.dev/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://gigathing.pages.dev/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://gigathing.pages.dev/">Home</a>&nbsp;»&nbsp;<a href="https://gigathing.pages.dev/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Yii1.1 for beginners
    </h1>
    <div class="post-description">
      Yii framework Wiki
    </div>
    <div class="post-meta"><span title='2020-06-04 15:05:46 +0800 HKT'>June 4, 2020</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Ken Cho

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#what-is-yii-model-view-controller-architecture" aria-label="What is Yii Model-View-Controller architecture?">What is Yii Model-View-Controller architecture?</a></li>
                <li>
                    <a href="#controller" aria-label="Controller">Controller</a></li>
                <li>
                    <a href="#model" aria-label="Model">Model</a></li>
                <li>
                    <a href="#view" aria-label="View">View</a></li>
                <li>
                    <a href="#what-is-framework" aria-label="What is framework?">What is framework?</a></li>
                <li>
                    <a href="#what-is-gii" aria-label="What is Gii?">What is Gii?</a></li>
                <li>
                    <a href="#how-to-define-relations-in-models-manually" aria-label="How to define relations in models manually?">How to define relations in models manually?</a></li>
                <li>
                    <a href="#how-to-create-the-first-controller" aria-label="How to create the first controller?">How to create the first controller?</a></li>
                <li>
                    <a href="#reference" aria-label="Reference">Reference</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="what-is-yii-model-view-controller-architecture">What is Yii Model-View-Controller architecture?<a hidden class="anchor" aria-hidden="true" href="#what-is-yii-model-view-controller-architecture">#</a></h3>
<p>MVC schema</p>
<p><img alt="img" loading="lazy" src="/image/mvc_schema.png"></p>
<ol>
<li><code>Model</code></li>
</ol>
<blockquote>
<p>defines relations among data in DB and rules that must be followed when saving data to DB. It also gives us tools to read/save data from/to DB.</p></blockquote>
<ol start="2">
<li><code>View</code></li>
</ol>
<blockquote>
<p>shows data to user. It doesn’t write to DB or count difficult things. It just receives data and shows them using HTML, CSS, JS, etc.</p></blockquote>
<ol start="3">
<li><code>Controller</code></li>
</ol>
<blockquote>
<p>processes and changes the data, handles user’s actions, decides, counts, thinks and calls models and views. It simply acts.</p></blockquote>
<h3 id="controller">Controller<a hidden class="anchor" aria-hidden="true" href="#controller">#</a></h3>
<p>Controller is initiated (and it&rsquo;s code is run) whenever you enter any address in browser. In its code you can read data from POST, GET or SESSION variables, work with DB etc.
Here shows you how to access controller:<br>
<code>www.myweb.com/index.php?r=myController</code><br>
Parameter <code>r</code> says that you want to use Controller named <code>myController</code>. Controller can have one or more sub-controllers. Each does something else.
Each table in DB has its own model. This model has the same (or similar) name like the table. Each model has 2 important functions. Find data and Save data.</p>
<h3 id="model">Model<a hidden class="anchor" aria-hidden="true" href="#model">#</a></h3>
<p>Model is very simple thing in Yii. You don’t have to write a single line of its code, it can be created automatically using <code>Gii</code>.</p>
<h3 id="view">View<a hidden class="anchor" aria-hidden="true" href="#view">#</a></h3>
<p>It just receives data from Controller and shows them. This is the only place where we use HTML, CSS, JavaScript etc.
<img alt="img" loading="lazy" src="/image/mvc_flow.png"></p>
<h3 id="what-is-framework">What is framework?<a hidden class="anchor" aria-hidden="true" href="#what-is-framework">#</a></h3>
<p>Framework is a set of functions that can ease your work. Functions are usually grouped into Classes. In Yii framework there is available class named CHtml.
It provides functions for creating HTML code. (Tables, lists, forms&hellip;).
<code>echo CHtml::beginForm()</code> will creates this html code: <code>&lt;form method=”post” action=”thisScriptName”&gt;</code></p>
<h3 id="what-is-gii">What is Gii?<a hidden class="anchor" aria-hidden="true" href="#what-is-gii">#</a></h3>
<p>Gii is webpage that comes with Yii framework. In protected/config/main.php you have to uncomment it and enter password for Gii. Than go to you localhost website and run controller gii like this:
<code>localhost/myproject/index.php?r=gii</code></p>
<h3 id="how-to-define-relations-in-models-manually">How to define relations in models manually?<a hidden class="anchor" aria-hidden="true" href="#how-to-define-relations-in-models-manually">#</a></h3>
<p>When you created models for all tables, it may be necessary to define relations. his can be done using function relations() in model file.
The relation is an SQL Join. When you make relation from list of employees to their jobs and name this relation ‘job’, you can then write this in Controller to get employee’s job:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nv">$Employee</span> <span class="o">=</span> <span class="nx">Employees</span><span class="o">::</span><span class="na">model</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">findByPk</span><span class="p">(</span><span class="nv">$employeeId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nv">$myJobName</span> <span class="o">=</span> <span class="nv">$Employee</span><span class="o">-&gt;</span><span class="na">job</span><span class="o">-&gt;</span><span class="na">jobName</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">Where:
</span></span></span><span class="line"><span class="cl"><span class="cm">Employees = model of table created using yiic shell. 
</span></span></span><span class="line"><span class="cl"><span class="cm">jobName = column in Jobs table. 
</span></span></span><span class="line"><span class="cl"><span class="cm">job = relation name.
</span></span></span><span class="line"><span class="cl"><span class="cm">$Employee = 1 returned record from table Employees - only one because we were searching by PK. If we searched using findAll() it would return list of records and it would be necessary to walk through them using foreach.
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">In your model should be cca this function:
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">function</span> <span class="nf">relations</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">	           <span class="s1">&#39;job&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">BELONGS_TO</span><span class="p">,</span> <span class="s1">&#39;JobsTableName&#39;</span><span class="p">,</span> <span class="s1">&#39;id_job&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">           <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="how-to-create-the-first-controller">How to create the first controller?<a hidden class="anchor" aria-hidden="true" href="#how-to-create-the-first-controller">#</a></h3>
<p>Need one file in folder: protected/controllers. The file must be named like this &lsquo;NameController.php`.
Whats inside the controller.php?</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="o">&lt;?</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyfirstController</span> <span class="k">extends</span> <span class="nx">Controller</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">public</span> <span class="k">function</span> <span class="nf">actionIndex</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// here is your code for this action
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">public</span> <span class="k">function</span> <span class="nf">actionMyaction</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// here is your code for this action
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nx">‘myview’</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">public</span> <span class="k">function</span> <span class="nf">getEmployeeName</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="cp">?&gt;</span><span class="err">
</span></span></span></code></pre></div><h3 id="reference">Reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h3>
<ol>
<li><a href="https://www.yiiframework.com/wiki/250/yii-for-beginners">Yii for beginners 1</a></li>
<li><a href="http://www.yiiframework.com/wiki/462/yii-for-beginners-2">Yii for beginners 2</a></li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://gigathing.pages.dev/tags/yii/">Yii</a></li>
      <li><a href="https://gigathing.pages.dev/tags/yii1.1/">Yii1.1</a></li>
      <li><a href="https://gigathing.pages.dev/tags/php/">Php</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://gigathing.pages.dev/postgresql/">
    <span class="title">« Prev</span>
    <br>
    <span>Postgresql</span>
  </a>
  <a class="next" href="https://gigathing.pages.dev/yii1.1/">
    <span class="title">Next »</span>
    <br>
    <span>Yii 1.1 Quick Start</span>
  </a>
</nav>

  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "disqus_FHTaFcKzzy" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>kencho51</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
