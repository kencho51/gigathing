<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Learn, todo and done 10-14/5/21 | kencho51</title><meta name=keywords content="API,Clean Code,Udemy,Design Pattern,Terraform,Ansible"><meta name=description content="Weekly plan"><meta name=author content="Ken Cho"><link rel=canonical href=https://blog.superbrains.cc/jobs/10-5-21/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.superbrains.cc/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.superbrains.cc/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.superbrains.cc/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.superbrains.cc/apple-touch-icon.png><link rel=mask-icon href=https://blog.superbrains.cc/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.superbrains.cc/jobs/10-5-21/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.superbrains.cc/jobs/10-5-21/"><meta property="og:site_name" content="kencho51"><meta property="og:title" content="Learn, todo and done 10-14/5/21"><meta property="og:description" content="Weekly plan"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="jobs"><meta property="article:published_time" content="2021-05-10T12:42:37+08:00"><meta property="article:modified_time" content="2021-05-17T10:57:08+08:00"><meta property="article:tag" content="API"><meta property="article:tag" content="Clean Code"><meta property="article:tag" content="Udemy"><meta property="article:tag" content="Design Pattern"><meta property="article:tag" content="Terraform"><meta property="article:tag" content="Ansible"><meta name=twitter:card content="summary"><meta name=twitter:title content="Learn, todo and done 10-14/5/21"><meta name=twitter:description content="Weekly plan"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Jobs","item":"https://blog.superbrains.cc/jobs/"},{"@type":"ListItem","position":2,"name":"Learn, todo and done 10-14/5/21","item":"https://blog.superbrains.cc/jobs/10-5-21/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Learn, todo and done 10-14/5/21","name":"Learn, todo and done 10-14\/5\/21","description":"Weekly plan","keywords":["API","Clean Code","Udemy","Design Pattern","Terraform","Ansible"],"articleBody":"Learn Clean Code, YouTube PHP: The Right Way, link Udemy courses Design Pattern, Doc, Pattern Libraries Postman for testing API, YouTube Essential Scrum, Chapter [5, 7, 17, 18, 19] Terraform Ansible IBMCloud TechWorld What is IaCode DevOps Crash Course, youtube Todo - Project repo, doc Study actionMint in /protected/controller/AdminDatasetController.php /** *\tpost metadata, mint a new DOI * */ public function actionMint() { $result['status'] = false; $status_array = array('Submitted', 'UserStartedIncomplete', 'Curation'); $mds_metadata_url=\"https://mds.datacite.org/metadata\"; $mds_doi_url=\"https://mds.datacite.org/doi\"; $mds_username = Yii::app()-\u003eparams['mds_username']; $mds_password = Yii::app()-\u003eparams['mds_password']; $mds_prefix = Yii::app()-\u003eparams['mds_prefix']; if (isset($_POST['doi'])) { $doi = $_POST['doi']; if (stristr($doi, \"/\")) { $temp = explode(\"/\", $doi); $doi = $temp[1]; } $doi = trim($doi); $dataset = Dataset::model()-\u003efind(\"identifier=?\", array($doi)); if ($dataset \u0026\u0026 ! in_array($dataset-\u003eupload_status, $status_array)) { $xml_data = $dataset-\u003etoXML(); $ch= curl_init(); curl_setopt($ch, CURLOPT_URL, $mds_metadata_url); curl_setopt($ch, CURLOPT_POST, 1); curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch, CURLOPT_POSTFIELDS, \"$xml_data\"); curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type:application/xml;charset=UTF-8')); curl_setopt($ch, CURLOPT_USERPWD, $mds_username . \":\" . $mds_password); $curl_response = curl_exec($ch); $result['md_curl_response'] = $curl_response; $info1 = curl_getinfo($ch); $result['md_curl_status'] = $info1['http_code']; curl_close($ch) ; } if ($dataset \u0026\u0026 $result['md_curl_status'] == 201) { $doi_data = \"doi=\".$mds_prefix.\"/\".$doi.\"\\n\".\"url=http://gigadb.org/dataset/\".$dataset-\u003eidentifier ; $result['doi_data'] = $doi_data; $ch2= curl_init(); curl_setopt($ch2, CURLOPT_URL, $mds_doi_url); curl_setopt($ch2, CURLOPT_POST, 1); curl_setopt($ch2, CURLOPT_RETURNTRANSFER, 1); curl_setopt($ch2, CURLOPT_POSTFIELDS, $doi_data); curl_setopt($ch2, CURLOPT_HTTPHEADER, array('Content-Type:application/xml;charset=UTF-8')); curl_setopt($ch2, CURLOPT_USERPWD, $mds_username . \":\" . $mds_password); $curl_response = curl_exec($ch2); $result['doi_curl_response'] = $curl_response; $info2 = curl_getinfo($ch2); $result['doi_curl_status'] = $info2['http_code']; curl_close($ch2) ; } if (isset($result['doi_curl_status']) \u0026\u0026 $result['doi_curl_status'] == 201) { $result['status'] = true; } } echo json_encode($result); Yii::app()-\u003eend(); } Done - Project Todo - Github Follow up Add-citation-box-#521 Update elements to structure Tried to use bootstrap dropdown button Review fuw-cicd-#546, review doc at here Done - Github AOB Follow up server issue 192.168.208.43, 192.168.208.44, 192.168.208.74 have been returned back to BGI IT team Still owning 192.168.208.73 and it is running, because it is hosting www.gigadb.org Follow up NAS issue 杨杰威(Jed Yang) is helping us to gather compliance and regulation information from 曾文君(Ken Zeng), and his supervisor, Alex, would like to know why we would want to have a NAS 郑康和(Kanghe Zheng), the one who suggests us to place the NAS in BGI Tai Po and later the 3rd party Data centre in HK, wants to meet with us together with 周飞羽(Feiyu Zhou) and 田晶(Jing Tian) on 14/5 at 1400 Reference ","wordCount":"358","inLanguage":"en","datePublished":"2021-05-10T12:42:37+08:00","dateModified":"2021-05-17T10:57:08+08:00","author":{"@type":"Person","name":"Ken Cho"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.superbrains.cc/jobs/10-5-21/"},"publisher":{"@type":"Organization","name":"kencho51","logo":{"@type":"ImageObject","url":"https://blog.superbrains.cc/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.superbrains.cc/ accesskey=h title="kencho51 (Alt + H)">kencho51</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.superbrains.cc/page/about/ title=About><span>About</span></a></li><li><a href=https://blog.superbrains.cc/post title=Tech><span>Tech</span></a></li><li><a href=https://blog.superbrains.cc/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://blog.superbrains.cc/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.superbrains.cc/>Home</a>&nbsp;»&nbsp;<a href=https://blog.superbrains.cc/jobs/>Jobs</a></div><h1 class="post-title entry-hint-parent">Learn, todo and done 10-14/5/21</h1><div class=post-description>Weekly plan</div><div class=post-meta><span title='2021-05-10 12:42:37 +0800 HKT'>May 10, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;358 words&nbsp;·&nbsp;Ken Cho</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#learn aria-label=Learn>Learn</a></li><li><a href=#todo---project-repo-doc aria-label="Todo - Project repo, doc">Todo - Project repo, doc</a></li><li><a href=#done---project aria-label="Done - Project">Done - Project</a></li><li><a href=#todo---github aria-label="Todo - Github">Todo - Github</a></li><li><a href=#done---github aria-label="Done - Github">Done - Github</a></li><li><a href=#aob aria-label=AOB>AOB</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h3 id=learn>Learn<a hidden class=anchor aria-hidden=true href=#learn>#</a></h3><ol><li>Clean Code, <a href="https://www.youtube.com/watch?v=7EmboKQH8lM">YouTube</a></li><li>PHP: The Right Way, <a href=https://phptherightway.com/>link</a></li><li>Udemy courses</li><li>Design Pattern, <a href=https://designpatternsphp.readthedocs.io/en/latest/README.html>Doc</a>, <a href=https://medium.com/@whatjackhasmade/pattern-libraries-abcc45c6144c>Pattern Libraries</a></li><li>Postman for testing API, <a href=https://www.freecodecamp.org/news/learn-how-to-use-postman-to-test-apis/>YouTube</a></li><li>Essential Scrum, Chapter [5, 7, 17, 18, 19]</li><li>Terraform</li><li>Ansible<ul><li><a href="https://www.youtube.com/watch?v=fHO1X93e4WA">IBMCloud</a></li><li><a href="https://www.youtube.com/watch?v=1id6ERvfozo">TechWorld</a></li><li><a href="https://www.youtube.com/watch?v=POPP2WTJ8es">What is IaCode</a></li></ul></li><li>DevOps Crash Course, <a href="https://www.youtube.com/watch?v=OXE2a8dqIAI">youtube</a></li></ol><h3 id=todo---project-repo-doc>Todo - Project <a href=https://github.com/kencho51/mint_doi>repo</a>, <a href=https://docs.google.com/document/d/1CopK9e9QclOd91WRN1LREEBefMDb5cWoHiElj3IfKLc/edit#>doc</a><a hidden class=anchor aria-hidden=true href=#todo---project-repo-doc>#</a></h3><ol><li>Study <code>actionMint</code> in <code>/protected/controller/AdminDatasetController.php</code></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl> <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>  *	post metadata, mint a new DOI
</span></span></span><span class=line><span class=cl><span class=sd>  *
</span></span></span><span class=line><span class=cl><span class=sd>  */</span>
</span></span><span class=line><span class=cl> <span class=k>public</span> <span class=k>function</span> <span class=nf>actionMint</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;status&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=nv>$status_array</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;Submitted&#39;</span><span class=p>,</span> <span class=s1>&#39;UserStartedIncomplete&#39;</span><span class=p>,</span> <span class=s1>&#39;Curation&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=nv>$mds_metadata_url</span><span class=o>=</span><span class=s2>&#34;https://mds.datacite.org/metadata&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=nv>$mds_doi_url</span><span class=o>=</span><span class=s2>&#34;https://mds.datacite.org/doi&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=nv>$mds_username</span> <span class=o>=</span> <span class=nx>Yii</span><span class=o>::</span><span class=na>app</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>params</span><span class=p>[</span><span class=s1>&#39;mds_username&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>     <span class=nv>$mds_password</span> <span class=o>=</span> <span class=nx>Yii</span><span class=o>::</span><span class=na>app</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>params</span><span class=p>[</span><span class=s1>&#39;mds_password&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>     <span class=nv>$mds_prefix</span> <span class=o>=</span> <span class=nx>Yii</span><span class=o>::</span><span class=na>app</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>params</span><span class=p>[</span><span class=s1>&#39;mds_prefix&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>if</span> <span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$_POST</span><span class=p>[</span><span class=s1>&#39;doi&#39;</span><span class=p>]))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=nv>$doi</span> <span class=o>=</span> <span class=nv>$_POST</span><span class=p>[</span><span class=s1>&#39;doi&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>         <span class=k>if</span> <span class=p>(</span><span class=nx>stristr</span><span class=p>(</span><span class=nv>$doi</span><span class=p>,</span> <span class=s2>&#34;/&#34;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>             <span class=nv>$temp</span> <span class=o>=</span> <span class=nx>explode</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>,</span> <span class=nv>$doi</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$doi</span> <span class=o>=</span> <span class=nv>$temp</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>         <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=nv>$doi</span> <span class=o>=</span> <span class=nx>trim</span><span class=p>(</span><span class=nv>$doi</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=nv>$dataset</span> <span class=o>=</span> <span class=nx>Dataset</span><span class=o>::</span><span class=na>model</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>find</span><span class=p>(</span><span class=s2>&#34;identifier=?&#34;</span><span class=p>,</span> <span class=k>array</span><span class=p>(</span><span class=nv>$doi</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>if</span> <span class=p>(</span><span class=nv>$dataset</span> <span class=o>&amp;&amp;</span> <span class=o>!</span> <span class=nx>in_array</span><span class=p>(</span><span class=nv>$dataset</span><span class=o>-&gt;</span><span class=na>upload_status</span><span class=p>,</span> <span class=nv>$status_array</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>             <span class=nv>$xml_data</span> <span class=o>=</span> <span class=nv>$dataset</span><span class=o>-&gt;</span><span class=na>toXML</span><span class=p>();</span>
</span></span><span class=line><span class=cl>             <span class=nv>$ch</span><span class=o>=</span> <span class=nx>curl_init</span><span class=p>();</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch</span><span class=p>,</span> <span class=nx>CURLOPT_URL</span><span class=p>,</span> <span class=nv>$mds_metadata_url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch</span><span class=p>,</span> <span class=nx>CURLOPT_POST</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch</span><span class=p>,</span> <span class=nx>CURLOPT_RETURNTRANSFER</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch</span><span class=p>,</span> <span class=nx>CURLOPT_POSTFIELDS</span><span class=p>,</span> <span class=s2>&#34;</span><span class=si>$xml_data</span><span class=s2>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch</span><span class=p>,</span> <span class=nx>CURLOPT_HTTPHEADER</span><span class=p>,</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;Content-Type:application/xml;charset=UTF-8&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch</span><span class=p>,</span> <span class=nx>CURLOPT_USERPWD</span><span class=p>,</span> <span class=nv>$mds_username</span> <span class=o>.</span> <span class=s2>&#34;:&#34;</span> <span class=o>.</span> <span class=nv>$mds_password</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$curl_response</span> <span class=o>=</span> <span class=nx>curl_exec</span><span class=p>(</span><span class=nv>$ch</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;md_curl_response&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$curl_response</span><span class=p>;</span>
</span></span><span class=line><span class=cl>             <span class=nv>$info1</span> <span class=o>=</span> <span class=nx>curl_getinfo</span><span class=p>(</span><span class=nv>$ch</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;md_curl_status&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$info1</span><span class=p>[</span><span class=s1>&#39;http_code&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_close</span><span class=p>(</span><span class=nv>$ch</span><span class=p>)</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>         <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>if</span> <span class=p>(</span><span class=nv>$dataset</span> <span class=o>&amp;&amp;</span> <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;md_curl_status&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=mi>201</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>             <span class=nv>$doi_data</span> <span class=o>=</span> <span class=s2>&#34;doi=&#34;</span><span class=o>.</span><span class=nv>$mds_prefix</span><span class=o>.</span><span class=s2>&#34;/&#34;</span><span class=o>.</span><span class=nv>$doi</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=s2>&#34;url=http://gigadb.org/dataset/&#34;</span><span class=o>.</span><span class=nv>$dataset</span><span class=o>-&gt;</span><span class=na>identifier</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>             <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;doi_data&#39;</span><span class=p>]</span>  <span class=o>=</span> <span class=nv>$doi_data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>             <span class=nv>$ch2</span><span class=o>=</span> <span class=nx>curl_init</span><span class=p>();</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>,</span> <span class=nx>CURLOPT_URL</span><span class=p>,</span> <span class=nv>$mds_doi_url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>,</span> <span class=nx>CURLOPT_POST</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>,</span> <span class=nx>CURLOPT_RETURNTRANSFER</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>,</span> <span class=nx>CURLOPT_POSTFIELDS</span><span class=p>,</span> <span class=nv>$doi_data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>,</span> <span class=nx>CURLOPT_HTTPHEADER</span><span class=p>,</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;Content-Type:application/xml;charset=UTF-8&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_setopt</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>,</span> <span class=nx>CURLOPT_USERPWD</span><span class=p>,</span> <span class=nv>$mds_username</span> <span class=o>.</span> <span class=s2>&#34;:&#34;</span> <span class=o>.</span> <span class=nv>$mds_password</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$curl_response</span> <span class=o>=</span> <span class=nx>curl_exec</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;doi_curl_response&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$curl_response</span><span class=p>;</span>
</span></span><span class=line><span class=cl>             <span class=nv>$info2</span> <span class=o>=</span> <span class=nx>curl_getinfo</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>             <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;doi_curl_status&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$info2</span><span class=p>[</span><span class=s1>&#39;http_code&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>             <span class=nx>curl_close</span><span class=p>(</span><span class=nv>$ch2</span><span class=p>)</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>         <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>if</span> <span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;doi_curl_status&#39;</span><span class=p>])</span> <span class=o>&amp;&amp;</span> <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;doi_curl_status&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=mi>201</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>             <span class=nv>$result</span><span class=p>[</span><span class=s1>&#39;status&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>         <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>echo</span> <span class=nx>json_encode</span><span class=p>(</span><span class=nv>$result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>     <span class=nx>Yii</span><span class=o>::</span><span class=na>app</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></div><h3 id=done---project>Done - Project<a hidden class=anchor aria-hidden=true href=#done---project>#</a></h3><h3 id=todo---github>Todo - Github<a hidden class=anchor aria-hidden=true href=#todo---github>#</a></h3><ol><li>Follow up <a href=https://github.com/gigascience/gigadb-website/pull/521>Add-citation-box-#521</a><ul><li>Update <code>&lt;a>&lt;/a></code> elements to <code>&lt;ul>&lt;li>&lt;/li>&lt;/ul></code> structure</li><li>Tried to use <code>bootstrap</code> dropdown button</li></ul></li><li>Review <a href=https://github.com/gigascience/gigadb-website/pull/546>fuw-cicd-#546</a>, review doc at <a href=https://gist.github.com/kencho51/6b5cebd15c9419484e73b2439a34f0d1>here</a></li></ol><h3 id=done---github>Done - Github<a hidden class=anchor aria-hidden=true href=#done---github>#</a></h3><h3 id=aob>AOB<a hidden class=anchor aria-hidden=true href=#aob>#</a></h3><ol><li>Follow up server issue<ul><li>192.168.208.43, 192.168.208.44, 192.168.208.74 have been returned back to BGI IT team</li><li>Still owning 192.168.208.73 and it is running, because it is hosting <a href=https://www.gigadb.org>www.gigadb.org</a></li></ul></li><li>Follow up NAS issue<ul><li>杨杰威(Jed Yang) is helping us to gather compliance and regulation information from 曾文君(Ken Zeng), and his supervisor, Alex, would like to know why we would want to have a NAS</li><li>郑康和(Kanghe Zheng), the one who suggests us to place the NAS in BGI Tai Po and later the 3rd party Data centre in HK, wants to meet with us together with 周飞羽(Feiyu Zhou) and 田晶(Jing Tian) on 14/5 at 1400</li></ul></li></ol><h3 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h3><p><a href=https://travis-ci.com/kencho51/gigathing><img alt="Build Status" loading=lazy src="https://travis-ci.com/kencho51/gigathing.svg?branch=master"></a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.superbrains.cc/tags/api/>API</a></li><li><a href=https://blog.superbrains.cc/tags/clean-code/>Clean Code</a></li><li><a href=https://blog.superbrains.cc/tags/udemy/>Udemy</a></li><li><a href=https://blog.superbrains.cc/tags/design-pattern/>Design Pattern</a></li><li><a href=https://blog.superbrains.cc/tags/terraform/>Terraform</a></li><li><a href=https://blog.superbrains.cc/tags/ansible/>Ansible</a></li></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Learn, todo and done 10-14/5/21 on x" href="https://x.com/intent/tweet/?text=Learn%2c%20todo%20and%20done%2010-14%2f5%2f21&amp;url=https%3a%2f%2fblog.superbrains.cc%2fjobs%2f10-5-21%2f&amp;hashtags=API%2cCleanCode%2cUdemy%2cDesignPattern%2cTerraform%2cAnsible"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Learn, todo and done 10-14/5/21 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.superbrains.cc%2fjobs%2f10-5-21%2f&amp;title=Learn%2c%20todo%20and%20done%2010-14%2f5%2f21&amp;summary=Learn%2c%20todo%20and%20done%2010-14%2f5%2f21&amp;source=https%3a%2f%2fblog.superbrains.cc%2fjobs%2f10-5-21%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Learn, todo and done 10-14/5/21 on telegram" href="https://telegram.me/share/url?text=Learn%2c%20todo%20and%20done%2010-14%2f5%2f21&amp;url=https%3a%2f%2fblog.superbrains.cc%2fjobs%2f10-5-21%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>kencho51</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>